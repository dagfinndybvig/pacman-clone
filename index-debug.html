<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pac-Man Clone - Debug</title>
    <link rel="stylesheet" href="src/css/style.css">
    <style>
        #console-output {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.9);
            color: #0f0;
            padding: 10px;
            font-family: monospace;
            font-size: 11px;
            max-height: 200px;
            overflow-y: auto;
            border-top: 2px solid #0f0;
            z-index: 10000;
        }
        .error { color: #f00; }
        .warn { color: #ff0; }
    </style>
</head>
<body>
    <div class="game-container">
        <h1>PAC-MAN (DEBUG)</h1>
        <div class="info-panel">
            <div class="score-display">Score: <span id="score">0</span></div>
            <div class="lives-display">Lives: <span id="lives">3</span></div>
            <div class="level-display">Level: <span id="level">1</span></div>
        </div>
        <canvas id="gameCanvas" width="560" height="720"></canvas>
        <div class="controls">
            <p>Use Arrow Keys to move</p>
            <p>Press SPACE to pause/resume</p>
        </div>
        <div id="gameOverScreen" class="game-over">
            <h2>GAME OVER</h2>
            <p>Final Score: <span id="finalScore">0</span></p>
            <button id="restartBtn">Play Again</button>
        </div>
    </div>
    <div id="console-output">Console Output:<br></div>
    
    <script>
        // Intercept console messages
        const consoleDiv = document.getElementById('console-output');
        const oldLog = console.log;
        const oldError = console.error;
        const oldWarn = console.warn;
        
        console.log = function(...args) {
            oldLog.apply(console, args);
            consoleDiv.innerHTML += args.join(' ') + '<br>';
            consoleDiv.scrollTop = consoleDiv.scrollHeight;
        };
        
        console.error = function(...args) {
            oldError.apply(console, args);
            consoleDiv.innerHTML += '<span class="error">ERROR: ' + args.join(' ') + '</span><br>';
            consoleDiv.scrollTop = consoleDiv.scrollHeight;
        };
        
        console.warn = function(...args) {
            oldWarn.apply(console, args);
            consoleDiv.innerHTML += '<span class="warn">WARN: ' + args.join(' ') + '</span><br>';
            consoleDiv.scrollTop = consoleDiv.scrollHeight;
        };
        
        // Catch all errors
        window.onerror = function(msg, url, line, col, error) {
            console.error('Global Error: ' + msg + ' at ' + url + ':' + line + ':' + col);
            return false;
        };
        
        console.log('Debug console initialized');
    </script>
    
    <script src="src/js/utils.js"></script>
    <script src="src/js/sound.js"></script>
    <script src="src/js/collision.js"></script>
    <script src="src/js/map.js"></script>
    <script src="src/js/player.js"></script>
    <script src="src/js/ghost.js"></script>
    <script src="src/js/game.js"></script>
</body>
</html>
